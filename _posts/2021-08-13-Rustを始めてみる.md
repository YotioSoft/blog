---
layout: post
title: Rustを始めてみる
tags: [Rust]
excerpt_separator: <!--more-->
---

せっかくの夏休み、なにか新しい技術を身に着けようと思い、昨今話題になりつつあるRustという言語を触ってみることにしました。  
今回は、WindowsおよびMacでの環境構築と、恒例のHello Worldの実行までを忘備録として残しておこうと思います。

<!--more-->



# Rustとは？

メモリ安全性を確保することを目指したプログラミング言語（らしい）。  
C言語とかC++では何でも作れる反面、メモリ管理が必要でメモリリークを起こしやすいですね。  
Rustでは、コンパイルする際にメモリ安全性を確保するためにボローチェッカーというリソースのライフタイムを静的解析する仕組みを備えています。  
また、C/C++は並列性が低いと言われていますが、Rustではこれを担保しています。



# エディタについて

空き容量的な問題であまり新しいIDEやエディタはインストールしたくないので、今回は既にインストールしてあったVisual Studio Code（以下、VS Code）を利用しようと思います。  
これならWindowsにもMacにも対応しているからね。



# Rustの環境構築に必要なモノ

どうやら以下の3つが必要らしい。

- rustc

  コンパイラ（C言語でいうところのgcc）

- cargo

  パッケージマネージャ

- rastup

  Rustのインストーラ



# Windowsでの環境構築

手順はだいたいこんな感じ。（参照:[Windows で Rust 用の開発環境を設定する | Microsoft Docs](https://docs.microsoft.com/ja-jp/windows/dev-environment/rust/setup){:target="_blank"}）

1. Microsoft C++ Build Toolsをインストールする

   Visual Studio（VS Codeではない）をインストールするだけでも良いらしい。

2. rustupをダウンロードしてRustをインストールする

3. VS Codeに拡張機能「rust-analyzer」をインストールする

4. デバッグのため、VS Codeに拡張機能「CodeLLDB」をインストールする



## Microsoft C++ Build Toolsをインストールする

[ここ](https://docs.microsoft.com/ja-jp/windows/dev-environment/rust/setup#:~:text=%E3%81%8C%E5%BF%85%E8%A6%81%E3%81%A7%E3%81%99%E3%80%82-,Microsoft%20C%2B%2B%20Build%20Tools,-%E3%82%92%E3%83%80%E3%82%A6%E3%83%B3%E3%83%AD%E3%83%BC%E3%83%89%E3%81%A7%E3%81%8D){:target="_blank"}からMicrosoft C++ Build Toolsをダウンロードしてインストールする。  
今回は既にVisual Studioをインストールしてあるので、ここはすっ飛ばしました。



## rustupをダウンロードしてRustをインストールする

[Rustのサイト](https://www.rust-lang.org/tools/install){target:"_blank"}からrustupをインストールする。64ビット版と32ビット版がある。



# Macでの環境構築

今回はHomebrewを利用します。  
手順はだいたいこんな感じ。

1. Homebrewでrustupとrust-analyzerをインストールする
2. デバッグのため、VS Codeに拡張機能「CodeLLDB」をインストールする



## rustupでRustをインストールする

端末を開き、  


```sh
$ brew install rustup rust-analyzer
```

を実行。  
途中、インストール先を聞かれます。  
![スクリーンショット 2021-08-13 14.14.53](../../../assets/img/post/スクリーンショット 2021-08-13 14.14.53-8832164.png)  
特に変更する必要がなければ1を入力しReturnキーを押します。  
あとは勝手にやってくれます。  

## VS Codeに拡張機能「rust-analyzer」をインストールする

![スクリーンショット 2021-08-13 14.26.18](../../../assets/img/post/スクリーンショット 2021-08-13 14.26.18.png)  


VS Codeを開いて、rust-analyzerを検索しインストール。



## デバッグのため、VS Codeに拡張機能「CodeLLDB」をインストールする

![スクリーンショット 2021-08-13 14.27.12](../../../assets/img/post/スクリーンショット 2021-08-13 14.27.12.png)  


同様にして、VS CodeにCodeLLDBをインストール。

